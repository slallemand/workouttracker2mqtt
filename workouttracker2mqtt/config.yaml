name: Workout Tracker
description: Bridge between workout-tracker and MQTT for Home Assistant integration
version: "1.2.0"
slug: workouttracker2mqtt
init: false
arch:
  - aarch64
  - amd64
  - armhf
  - armv7
  - i386
homepage: https://github.com/slallemand/workouttracker2mqtt
repository: https://github.com/slallemand/workouttracker2mqtt
ingress: false
panel_icon: mdi:run-fast
panel_title: Workout Tracker 2 MQTT
panel_admin: false
ports:
  8080/tcp: null
ports_description:
  8080/tcp: Application port (not used, but required by Quarkus)
options:
  workouttracker_api_server_url:
    type: string
    required: true
    example: "http://workout-tracker:8080"
    description: "Base URL of your workout-tracker instance"
  workouttracker_api_key:
    type: string
    required: true
    example: "Bearer your-api-key-here"
    description: "API key for authenticating with workout-tracker (include 'Bearer ' prefix)"
  mqtt_broker_url:
    type: string
    required: true
    example: "tcp://core-mosquitto:1883"
    description: "MQTT broker connection URL (use 'core-mosquitto' for Home Assistant's built-in MQTT broker)"
  mqtt_broker_username:
    type: string
    required: false
    example: "mqtt_user"
    description: "MQTT broker username (optional, leave empty for Home Assistant's built-in broker)"
  mqtt_broker_password:
    type: string
    required: false
    example: "mqtt_password"
    description: "MQTT broker password (optional, leave empty for Home Assistant's built-in broker)"
  mqtt_broker_topic_workouts:
    type: string
    required: false
    default: "workouttracker/workouts"
    description: "MQTT topic for workouts"
  mqtt_broker_topic_totals:
    type: string
    required: false
    default: "workouttracker/totals"
    description: "MQTT topic for totals"
  workout_types:
    type: string
    required: false
    default: "running,cycling"
    description: "Comma-separated list of workout types to monitor"
  homeassistant_discovery_enabled:
    type: boolean
    required: false
    default: true
    description: "Enable Home Assistant MQTT autodiscovery"
  homeassistant_discovery_prefix:
    type: string
    required: false
    default: "homeassistant"
    description: "Home Assistant discovery topic prefix"
  homeassistant_discovery_node_id:
    type: string
    required: false
    default: "workouttracker"
    description: "Node ID for Home Assistant discovery"
  camel_route_timer_period:
    type: int
    required: false
    default: 60000
    description: "Polling interval in milliseconds"
schema:
  workouttracker_api_server_url: str
  workouttracker_api_key: str
  mqtt_broker_url: str
  mqtt_broker_username: str?
  mqtt_broker_password: str?
  mqtt_broker_topic_workouts: str?
  mqtt_broker_topic_totals: str?
  workout_types: str?
  homeassistant_discovery_enabled: bool?
  homeassistant_discovery_prefix: str?
  homeassistant_discovery_node_id: str?
  camel_route_timer_period: int?

